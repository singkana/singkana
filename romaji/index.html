<!doctype html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-WV3GHF7D');</script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Romaji for Singing Japanese | SingKANA</title>
  <meta name="description" content="Convert Japanese lyrics into singable Romaji. This tool is for pronunciation and singing — not translation." />
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1" />
  <meta name="theme-color" content="#0b1220" />
  <meta property="og:title" content="Romaji for Singing Japanese | SingKANA" />
  <meta property="og:description" content="Convert Japanese lyrics into singable Romaji. For pronunciation and singing — not translation." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://singkana.com/romaji/" />
  <meta property="og:image" content="https://singkana.com/ogp.png" />
  <meta property="og:site_name" content="SingKANA" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@SingKANA_ai" />
  <meta name="twitter:title" content="Romaji for Singing Japanese | SingKANA" />
  <meta name="twitter:description" content="Convert Japanese lyrics into singable Romaji." />
  <meta name="twitter:image" content="https://singkana.com/ogp.png" />
  <link rel="canonical" href="https://singkana.com/romaji/" />

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch.png?v=3">

  <link rel="stylesheet" href="/assets/app.css?v=20260216" />

  <style>
    html, body { overflow-x: hidden; }
  </style>
</head>

<body class="bg-slate-950 text-slate-100 antialiased">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WV3GHF7D"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <!-- Background -->
  <div class="fixed inset-0 -z-10 overflow-hidden pointer-events-none">
    <div class="absolute -top-40 -right-40 h-80 w-80 rounded-full bg-singkana-500/35 blur-3xl"></div>
    <div class="absolute top-40 -left-40 h-96 w-96 rounded-full bg-fuchsia-500/25 blur-3xl"></div>
    <div class="absolute bottom-[-10rem] right-[-5rem] h-80 w-80 rounded-full bg-cyan-400/15 blur-3xl"></div>
  </div>

  <!-- Header -->
  <header class="border-b border-white/5 bg-slate-950/70 backdrop-blur-sm sticky top-0 z-30">
    <div class="mx-auto max-w-5xl px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="/assets/favicon/favicon-32.png" alt="SingKANA" class="h-7 w-7 rounded-xl" />
        <div>
          <div class="flex items-center gap-2">
            <span class="text-lg font-semibold tracking-wide">SingKANA</span>
          </div>
          <p class="text-xs text-slate-400">Romaji for Singing Japanese</p>
        </div>
      </div>

      <nav class="flex items-center gap-3 text-sm text-slate-200">
        <a href="/" class="hover:text-singkana-200 transition">Home</a>
        <a href="https://singkana.com" target="_blank" rel="noopener" class="hover:text-singkana-200 transition hidden sm:inline">
          Japanese site
        </a>
      </nav>
    </div>
  </header>

  <main class="mx-auto max-w-5xl px-4 py-6 md:py-10 space-y-6">
    <section class="space-y-3">
      <h1 class="text-2xl md:text-3xl font-semibold leading-tight text-slate-50">
        Romaji for Singing Japanese
      </h1>
      <p class="text-sm md:text-base text-slate-300 leading-relaxed">
        Convert Japanese lyrics into <span class="font-semibold text-singkana-100">singable Romaji</span>.
        This tool is for <span class="font-semibold text-singkana-100">pronunciation and singing</span> — not translation.
      </p>
      <div class="flex flex-wrap items-center gap-2 text-[11px] text-slate-300">
        <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-slate-950/40 px-3 py-1">
          <span class="h-1.5 w-1.5 rounded-full bg-emerald-400"></span>
          Uses the same API as SingKANA
        </span>
        <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-slate-950/40 px-3 py-1">
          Free limit: <span id="free-limit" class="font-semibold text-slate-100">500</span> chars
        </span>
      </div>
    </section>

    <section class="rounded-3xl border border-white/10 bg-slate-900/60 p-4 md:p-6 shadow-soft backdrop-blur-sm">
      <div class="grid gap-4 md:grid-cols-2">
        <div class="space-y-2">
          <div class="flex items-center justify-between gap-2">
            <p class="text-xs text-slate-300">Input (Japanese lyrics)</p>
            <p class="text-[11px] text-slate-400"><span id="char-count">0</span> chars</p>
          </div>
          <textarea
            id="romaji_in"
            rows="10"
            placeholder="Paste Japanese lyrics here&#10;Example: 残酷な天使のテーゼ&#10;少年よ神話になれ"
            class="w-full rounded-2xl border border-white/10 bg-slate-950/40 p-3 text-sm text-slate-100 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-singkana-400/80"
          ></textarea>

          <div class="flex flex-col sm:flex-row sm:items-center gap-2">
            <button
              id="romaji_go"
              type="button"
              class="inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-singkana-500 to-fuchsia-500 px-5 py-2 text-sm font-semibold text-white shadow-glow hover:brightness-110 transition"
            >
              Convert
            </button>
            <button
              id="romaji_clear"
              type="button"
              class="inline-flex items-center justify-center gap-2 rounded-full border border-white/15 bg-slate-950/60 px-5 py-2 text-sm font-semibold text-slate-100 hover:border-singkana-300/70 hover:text-singkana-100 transition"
            >
              Clear
            </button>
            <span id="romaji_status" class="text-[11px] text-slate-400 sm:ml-auto"></span>
          </div>

          <p class="text-[11px] text-slate-400 leading-relaxed">
            Tip: If you hit the free limit, try converting verse by verse.
          </p>
        </div>

        <div class="space-y-2">
          <p class="text-xs text-slate-300">Output (Romaji)</p>
          <textarea
            id="romaji_out"
            rows="10"
            readonly
            placeholder="Romaji will appear here"
            class="w-full rounded-2xl border border-white/10 bg-slate-950/30 p-3 text-sm text-slate-100 placeholder:text-slate-600"
          ></textarea>

          <div class="flex flex-col sm:flex-row sm:items-center gap-2">
            <button
              id="romaji_copy"
              type="button"
              class="inline-flex items-center justify-center gap-2 rounded-full border border-white/15 bg-slate-950/60 px-5 py-2 text-sm font-semibold text-slate-100 hover:border-singkana-300/70 hover:text-singkana-100 transition"
            >
              Copy
            </button>
            <a
              href="/#pricing"
              class="inline-flex items-center justify-center gap-2 rounded-full bg-white/10 px-5 py-2 text-sm font-semibold text-slate-100 border border-white/10 hover:bg-white/15 transition"
            >
              Tester perk: Pro 14 days (accepted feedback)
            </a>
          </div>

          <div class="rounded-2xl border border-white/10 bg-slate-950/30 p-3 text-[11px] text-slate-300 leading-relaxed">
            <p class="font-semibold text-slate-100 mb-1">Notes</p>
            <ul class="space-y-1">
              <li>- Romaji is optimized for singing and pronunciation.</li>
              <li>- Phrasing and elongation support will be improved over time (text-based). Audio/BPM-synced guidance is coming later.</li>
              <li>- This is not translation. Meaning is out of scope.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="border-t border-white/10 bg-slate-950/70">
    <div class="mx-auto max-w-5xl px-4 py-4 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
      <p class="text-[11px] text-slate-400">© <span id="year"></span> SingKANA.</p>
      <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-[11px]">
        <div class="flex flex-wrap items-center gap-3 text-slate-400">
          <a href="/tokusho.html" target="_blank" rel="noopener" class="hover:text-singkana-200 transition">特定商取引法に基づく表記</a>
          <a href="/terms.html" target="_blank" rel="noopener" class="hover:text-singkana-200 transition">利用規約</a>
          <a href="/privacy.html" target="_blank" rel="noopener" class="hover:text-singkana-200 transition">プライバシーポリシー</a>
        </div>
        <div class="flex items-center gap-4">
          <a class="text-slate-500 hover:text-singkana-200 transition underline underline-offset-2 decoration-slate-500/60" href="https://singkana.com" target="_blank" rel="noopener">
            For Japanese users: singkana.com
          </a>
          <a href="/lp/whitepaper.html" target="_blank" rel="noopener" class="text-slate-500 hover:text-singkana-200 transition underline underline-offset-2 decoration-slate-500/60">
            Powered by Sovereign Cognitive Architecture.
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const els = {
      in: document.getElementById("romaji_in"),
      out: document.getElementById("romaji_out"),
      go: document.getElementById("romaji_go"),
      copy: document.getElementById("romaji_copy"),
      clear: document.getElementById("romaji_clear"),
      status: document.getElementById("romaji_status"),
      count: document.getElementById("char-count"),
      freeLimit: document.getElementById("free-limit"),
    };

    const FREE_LIMIT_DEFAULT = 500;
    els.freeLimit.textContent = String(FREE_LIMIT_DEFAULT);

    function setStatus(msg, tone) {
      els.status.textContent = msg || "";
      els.status.className = "text-[11px] " + (tone === "ok"
        ? "text-emerald-300"
        : tone === "warn"
        ? "text-amber-200"
        : tone === "err"
        ? "text-rose-200"
        : "text-slate-400");
    }

    function updateCount() {
      const n = (els.in.value || "").length;
      els.count.textContent = String(n);
      if (n > FREE_LIMIT_DEFAULT) {
        setStatus(`Free plan supports up to ${FREE_LIMIT_DEFAULT} characters.`, "warn");
      } else if (!els.status.textContent || els.status.className.includes("text-amber")) {
        setStatus("", "");
      }
    }

    async function convert() {
      const text = (els.in.value || "").trim();
      if (!text) {
        setStatus("Please paste Japanese lyrics.", "warn");
        return;
      }

      setStatus("Converting…", "");
      els.go.disabled = true;
      els.go.classList.add("opacity-60", "cursor-not-allowed");

      try {
        const res = await fetch("/api/romaji", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ text }),
        });

        const data = await res.json().catch(() => ({}));
        if (!res.ok || !data.ok) {
          const err = (data && (data.error || data.code)) || "error";
          const freeLimit = data && data.free_limit ? data.free_limit : FREE_LIMIT_DEFAULT;
          if (err === "payment_required") {
            setStatus(`Free plan supports up to ${freeLimit} characters. Pro will be unlimited.`, "warn");
          } else if (err === "empty_text") {
            setStatus("Please paste Japanese lyrics.", "warn");
          } else {
            setStatus("Conversion failed. Please try again.", "err");
          }
          return;
        }

        els.out.value = data.romaji || "";
        setStatus("Done.", "ok");
      } catch (e) {
        setStatus("Network error. Please try again.", "err");
      } finally {
        els.go.disabled = false;
        els.go.classList.remove("opacity-60", "cursor-not-allowed");
      }
    }

    async function copyOut() {
      const text = els.out.value || "";
      if (!text.trim()) {
        setStatus("Nothing to copy.", "warn");
        return;
      }
      try {
        await navigator.clipboard.writeText(text);
        setStatus("Copied.", "ok");
      } catch {
        // fallback
        els.out.focus();
        els.out.select();
        try {
          document.execCommand("copy");
          setStatus("Copied.", "ok");
        } catch {
          setStatus("Copy failed. Please copy manually.", "warn");
        }
      }
    }

    function clearAll() {
      els.in.value = "";
      els.out.value = "";
      setStatus("", "");
      updateCount();
      els.in.focus();
    }

    els.in.addEventListener("input", updateCount);
    els.go.addEventListener("click", convert);
    els.copy.addEventListener("click", copyOut);
    els.clear.addEventListener("click", clearAll);

    updateCount();
  </script>
</body>
</html>
